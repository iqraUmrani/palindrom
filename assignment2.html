<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<h1>
    Palindrome Detection
    
</h1>
<input type="text" id = 'txt'>
<button type="button" onclick="Checking()">Check</button>
<p id="p1"></p>


    
</body>
<script>
    
        function Checking ()
      {
        var value = '';
    var chk = '';
    var repeat ;
    var lowRegStr ;
    var reverseStr;
    var maxLength = 0
    var max = '';
        value = document.getElementById('txt').value
        
        function palindrome(str) 
        {
         repeat = /[\W_]/g;
         lowRegStr = str.toLowerCase().replace(repeat, '');
         reverseStr = lowRegStr.split('').reverse().join(''); 
         return reverseStr === lowRegStr;
      }
        chk = palindrome(value)
      // console.log(chk)
     
        
        if(chk == true)
        {
           document.getElementById('p1').innerHTML = 'Great '+ '<strong>' +value + '</strong>'+  ' is a Palindrome word'
        }
        else
        { 
         
            longestPalind(value)
            // document.getElementById('p1').innerHTML = 'No '+value +' is not a Palindrome word'
           
        }
      
// function isPalindrome(s) {
//   var rev = s.split("").reverse().join("");
//   return s == rev;
// }
function longestPalind(s){
	
  for(var i=0; i < s.length; i++) {
	var subs = s.substr(i, s.length);
	  
	for(var j=subs.length; j>=0; j--) {
	  var sub_subs = subs.substr(0, j);
	  if (sub_subs.length <= 1)
		  continue;
		
      //console.log('checking: '+ sub_subs);
      if (palindrome(sub_subs)) {
		//console.log('palindrome: '+ sub_subs);
		if (sub_subs.length > maxLength) {
			maxLength = sub_subs.length;
			max = sub_subs;
      
		}
	  }
	}
  }
	
  if(max.length > 2)
  {
    document.getElementById('p1').innerHTML =  '<strong>' + max + '</strong>'+' is a Palindrome word in this sentence'
  }
  else
  {
    document.getElementById('p1').innerHTML = 'No Palindrome'
  }
  console.log(maxLength, max);
  return max;
  
}
      }
 
 
      // console.log(palindrome('i have eye'))
        </script>
</html>